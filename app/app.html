<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0" />
    <title>MKDown</title>

    <!--<link rel="stylesheet" href="assets/css/app.css">-->

    <!--<script src="node_modules/materialize-css/node_modules/jquery/dist/jquery.js"></script>-->

    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="node_modules/materialize-css/dist/css/materialize.css">

</head>
<body>

<!-- Insert this line above script imports  -->
<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>

<script src="app.bundle.js"></script>
<!--THIS CALLS JQUERY PLEASE ONLY REPLACE â†“ WITH A LOCAL OR CDN COPY DEPENDING ON YOUR NEEDS-->
<script type="text/javascript" src="node_modules/jquery/src/jquery.js"
        onload="window.$ = window.jQuery = module.exports;"></script>
<!--THIS IS THE END OF THE MAGICAL JQUERY CODE DO NOT TOUCH UNLESS YOU'RE DOING WHAT IS ALLOWED-->
<!--THANKS-->
<script src="node_modules/materialize-css/dist/js/materialize.js"></script>
<script src="node_modules/marked/marked.min.js"></script>
<script src="node_modules/countable/Countable.js"></script>
<!-- Insert this line after script imports -->
<script>if (window.module) module = window.module;</script>

<!-- Modal Trigger -->
<a class="waves-effect waves-light btn modal-trigger" href="#modal1">Modal</a>

<!-- Modal Structure -->
<div id="modal1" class="modal">
    <div class="modal-content">
        <h4>Modal Header</h4>
        <p>A bunch of text</p>
    </div>
    <div class="modal-footer">
        <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
</div>

<div class="row">
    <div class="col s12 m6">
        <div class="card blue-grey darken-1">
            <div class="card-content white-text">
                <span class="card-title">Markdown</span>
                <!--<span class="new badge" data-badge-caption="Cheatsheet" id="cheatSheet"></span>-->
                <textarea class="materialize-textarea" id="sourceTA" rows="10" cols="80"
                          oninput="displayMarkDown()"></textarea>
            </div>
            <div class="card-action">
                <a href="#">Save</a>
                <a href="#">Cheat Sheet</a>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col s12 m6">
            <div class="card blue-grey darken-1">
                <div class="card-content white-text">
                    <span class="card-title">Preview</span>
                    <span class="chip right tooltipped" id="carCountCharaters" data-position="bottom"
                          data-tooltip="Characters">0</span>
                    <span class="chip right" id="carCountParagrahps">0</span>
                    <span class="chip right" id="carCountSentences">0</span>
                    <span class="chip right" id="carCountWords">0</span>
                    <!--<a class="btn tooltipped" data-position="bottom" data-delay="50" data-tooltip="I am tooltip">Hover-->
                        <!--me!</a>-->
                    <p id="iseeprettycolors"></p>
                </div>
            </div>
        </div>
    </div>
</div>
<!--Editor's lounge-->

<div>
</div>


<!--Super Bowl Party Preview-->
<div id="content"></div>
<!--Markdown Rendering and WordCount functions-->
<script>
    var x = document.getElementById("sourceTA").value;
    console.log(x);
    //    document.getElementById('content').innerHTML =
    //            marked('# Marky Mark # Marked in browser\n\nRendered by **marked**.');

    function displayMarkDown() {
        var markDown = document.getElementById("sourceTA").value;
        console.log(markDown);
        document.getElementById("iseeprettycolors").innerHTML = marked(markDown);

        var wordcount = document.getElementById('iseeprettycolors');

        Countable.live(wordcount, function (counter) {
            console.log(this, counter);
            document.getElementById("carCountWords").innerText = counter.words;
            document.getElementById("carCountCharaters").innerText = counter.characters;
            document.getElementById("carCountParagrahps").innerText = counter.paragraphs;
            document.getElementById("carCountSentences").innerText = counter.sentences;
        })

    }

    function save() {

    }
</script>
</body>


<script>
    // You can also require other files to run in this process
    require('./assets/js/ex-links.js')
    require('./assets/js/notifications.js')
    require('./assets/js/function.js')

    //    function run() {
    //      var text = document.getElementById('sourceTA').value,
    //              target = document.getElementById('targetDiv'),
    //              converter = new showdown.Converter(),
    //              html = converter.makeHtml(text);
    //
    //      target.innerHTML = html;
    //    }
</script>
</html>
